from sqlalchemy.orm import Session
from app.models.item import Item
from app.schemas.item import ItemCreate
from app.repositories.item_repository import ItemRepository

class ItemService:
    def __init__(self):
        self.item_repo = ItemRepository()

    def list_items(self, db: Session):
        return self.item_repo.get_all(db)

    def create_item(self, item_data: ItemCreate, db: Session):
        db_item = Item(
            name=item_data.name, 
            description=item_data.description, 
            price=item_data.price
        )
        return self.item_repo.create(db, db_item)

    def get_item(self, item_id: str, db: Session):
        return self.item_repo.get_by_id(db, item_id)
